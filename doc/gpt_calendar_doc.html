<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>gpt_calendar.py ì½”ë“œ ì„¤ëª…</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f9f9f9; padding: 2rem; line-height: 1.6; }
    h1, h2 { color: #2c3e50; }
    code, pre { background: #eee; padding: 3px 6px; border-radius: 4px; }
    .block { background: #fff; padding: 1rem; border-left: 5px solid #00a1d6; margin-bottom: 2rem; border-radius: 6px; }
  </style>
</head>
<body>

  <h1>ğŸ¤– <code>gpt_calendar.py</code> íŒŒì¼ ì„¤ëª…</h1>
  <p>ì´ íŒŒì¼ì€ <strong>GPTì™€ Google Calendarë¥¼ ì—°ë™</strong>í•˜ì—¬ ì‚¬ìš©ìì˜ ìì—°ì–´ ì¿¼ë¦¬ì— ë”°ë¼ ì¼ì •ì„ ë¶„ì„í•˜ê³ , ëŒ€ë‹µì„ ë§Œë“¤ì–´ì£¼ëŠ” ë˜‘ë˜‘í•œ AI ë¡œì§ì…ë‹ˆë‹¤.</p>

  <div class="block">
    <h2>ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½</h2>
    <ul>
      <li>OpenAI GPT-3.5ë¥¼ í†µí•´ ìì—°ì–´ì—ì„œ ë‚ ì§œ ë²”ìœ„ ì¶”ì¶œ</li>
      <li>Google Calendar APIë¡œ í•´ë‹¹ ì¼ì • ì¡°íšŒ</li>
      <li>GPTì—ê²Œ ê²°ê³¼ ìš”ì•½ ë° ëŒ€í™”í˜• ë‹µë³€ ìƒì„± ìš”ì²­</li>
      <li>ì „ì²´ ì˜ˆì™¸ ì²˜ë¦¬ ë° ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥ ê°•í™”</li>
    </ul>
  </div>

  <div class="block">
    <h2>ğŸ§  <code>init_openai_client()</code></h2>
    <p>í™˜ê²½ ë³€ìˆ˜ì—ì„œ API í‚¤ë¥¼ ë¶ˆëŸ¬ì™€ <code>OpenAI</code> í´ë¼ì´ì–¸íŠ¸ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="block">
    <h2>ğŸ“… <code>extract_date_range(query: str)</code></h2>
    <p>GPTì—ê²Œ <code>ì˜¤ëŠ˜</code>, <code>ë‚´ì¼</code>, <code>ë‹¤ìŒ ì£¼</code> ê°™ì€ ìì—°ì–´ í‘œí˜„ì„ í•´ì„ì‹œì¼œ <strong>ISO 8601</strong> í¬ë§·ì˜ ë‚ ì§œ ë²”ìœ„ë¥¼ ë½‘ì•„ëƒ…ë‹ˆë‹¤.</p>
    <pre><code>{ "start_time": "2025-05-22T00:00:00", "end_time": "2025-05-24T23:59:59" }</code></pre>
  </div>

  <div class="block">
    <h2>ğŸ” <code>process_calendar_query(query, user_id, platform='google')</code></h2>
    <p>ìì—°ì–´ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•µì‹¬ í•¨ìˆ˜ì…ë‹ˆë‹¤.</p>
    <ol>
      <li><strong>1ë‹¨ê³„:</strong> <code>extract_date_range()</code>ë¡œ ë‚ ì§œ ë²”ìœ„ ì¶”ì¶œ</li>
      <li><strong>2ë‹¨ê³„:</strong> <code>get_calendar_service()</code> + <code>get_events()</code>ë¡œ í•´ë‹¹ ê¸°ê°„ ì¼ì • ë¶ˆëŸ¬ì˜¤ê¸°</li>
      <li><strong>3ë‹¨ê³„:</strong> GPTì—ê²Œ ì¼ì • ë‚´ìš©ì„ ìš”ì•½ ìš”ì²­</li>
    </ol>
    <p>ì‘ë‹µ ì˜ˆì‹œëŠ” ì•„ë˜ì™€ ê°™ì€ JSON í˜•íƒœì…ë‹ˆë‹¤:</p>
    <pre><code>{
  "status": "success",
  "user_id": "test@example.com",
  "query_info": {
    "original_query": "ì´ë²ˆ ì£¼ ì¼ì • ë³´ì—¬ì¤˜",
    "start_time": "2025-05-20T00:00:00",
    "end_time": "2025-05-26T23:59:59"
  },
  "events": [
    { "summary": "íšŒì˜", "start": "2025-05-22 14:00", ... }
  ],
  "response": "ì´ë²ˆ ì£¼ ëª©ìš”ì¼ ì˜¤í›„ 2ì‹œì— íšŒì˜ê°€ ìˆì–´ìš”!"
}</code></pre>
  </div>

  <div class="block">
    <h2>ğŸš¨ ì—ëŸ¬ í•¸ë“¤ë§</h2>
    <p>ì—ëŸ¬ ìƒí™©ë³„ë¡œ êµ¬ì²´ì ì¸ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì´ ë‹¨ê³„ë³„ ì²˜ë¦¬ë©ë‹ˆë‹¤:</p>
    <ul>
      <li><code>[API ERROR]</code> ì¸ì¦ ì‹¤íŒ¨, datetime ì˜¤ë¥˜ ë“±</li>
      <li><code>[GPT ERROR]</code> GPT í˜¸ì¶œ ì‹¤íŒ¨, ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜ ë“±</li>
    </ul>
  </div>

  <div class="block">
    <h2>ğŸ” <code>__main__</code> ì‹¤í–‰</h2>
    <p>í„°ë¯¸ë„ì—ì„œ ì§ì ‘ ì‹¤í–‰ ì‹œ, ì¿¼ë¦¬ë¥¼ ì…ë ¥ë°›ì•„ ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.</p>
    <pre><code>python gpt_calendar.py</code></pre>
  </div>

</body>
</html>
